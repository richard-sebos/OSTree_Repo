# rpm-ostree Repository Configuration
# Extends existing Apache HTTPS configuration with rpm-ostree endpoint
# This file is included by Apache and adds to the existing VirtualHost

# rpm-ostree repository alias
Alias {{ rpm_ostree_http_alias }} {{ rpm_ostree_repo_path }}

<Directory {{ rpm_ostree_repo_path }}>
    Options Indexes FollowSymLinks
    AllowOverride None
    Require all granted

    # Enable CORS for OSTree client access
    Header set Access-Control-Allow-Origin "*"
</Directory>

# Disable directory listing for objects directory
<Directory {{ rpm_ostree_repo_path }}/objects>
    Options -Indexes
</Directory>
